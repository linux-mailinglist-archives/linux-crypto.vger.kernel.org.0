Return-Path: <linux-crypto-owner@vger.kernel.org>
X-Original-To: lists+linux-crypto@lfdr.de
Delivered-To: lists+linux-crypto@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id EC07A2E0B32
	for <lists+linux-crypto@lfdr.de>; Tue, 22 Dec 2020 14:57:18 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727149AbgLVN44 (ORCPT <rfc822;lists+linux-crypto@lfdr.de>);
        Tue, 22 Dec 2020 08:56:56 -0500
Received: from mail.kernel.org ([198.145.29.99]:49528 "EHLO mail.kernel.org"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1727146AbgLVN4z (ORCPT <rfc822;linux-crypto@vger.kernel.org>);
        Tue, 22 Dec 2020 08:56:55 -0500
Received: by mail.kernel.org (Postfix) with ESMTPSA id A64D823105;
        Tue, 22 Dec 2020 13:56:14 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1608645375;
        bh=pJ1KImqJ9x4u3eL+ScCaXOa20iAVRMRCF+VTZWc4YbI=;
        h=In-Reply-To:References:Subject:Cc:From:To:Date:From;
        b=PsS36EIRCygCk1fZ4DIajuw9lnfvHq7XQa6gHstxIgpYzPtB0bHptnUTus4gxrdGz
         865otr/4IS9IAeD/8BMGPX9nNe4i2XEVMifMtDunmx681hS0OjON2EEf5+u/9z/6P+
         9/32k6WR6OzyrLWTbXmdlUzcuqHEN0LpQcSpZcidLXDukWVnxwLTu+EvDr61ao0Vrw
         sr0cMdJ3QA1oCnsc93qHIUiYqhSfK34nQPdKvFeZs7vOdz4ROlOdcMBQ/keoJ3aygi
         Y6PH4UeW8E+nuxeExux5JYVf/R3f2CUN3R6wE4bxmIzsOiqnQAc/XR5W4SQlrJ/4/s
         B8CK4GeFpYW0g==
Content-Type: text/plain; charset="utf-8"
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <1607946280-42445-1-git-send-email-tiantao6@hisilicon.com>
References: <1607946280-42445-1-git-send-email-tiantao6@hisilicon.com>
Subject: Re: [PATCH] crypto: inside-secure - fix platform_get_irq.cocci warnings
Cc:     linux-crypto@vger.kernel.org
From:   Antoine Tenart <atenart@kernel.org>
To:     Tian Tao <tiantao6@hisilicon.com>, davem@davemloft.net,
        herbert@gondor.apana.org.au
Message-ID: <160864537192.1448242.7324361895608959161@kwain.local>
Date:   Tue, 22 Dec 2020 14:56:12 +0100
Precedence: bulk
List-ID: <linux-crypto.vger.kernel.org>
X-Mailing-List: linux-crypto@vger.kernel.org

Hello,

Quoting Tian Tao (2020-12-14 12:44:40)
> Remove dev_err() messages after platform_get_irq*() failures.
> drivers/crypto/inside-secure/safexcel.c: line 1161 is redundant
> because platform_get_irq() already prints an error
>=20
> Generated by: scripts/coccinelle/api/platform_get_irq.cocci
>=20
> Signed-off-by: Tian Tao <tiantao6@hisilicon.com>

Acked-by: Antoine Tenart <atenart@kernel.org>

Thanks!
Antoine

> ---
>  drivers/crypto/inside-secure/safexcel.c | 5 +----
>  1 file changed, 1 insertion(+), 4 deletions(-)
>=20
> diff --git a/drivers/crypto/inside-secure/safexcel.c b/drivers/crypto/ins=
ide-secure/safexcel.c
> index 2e15621..efabc44bf 100644
> --- a/drivers/crypto/inside-secure/safexcel.c
> +++ b/drivers/crypto/inside-secure/safexcel.c
> @@ -1166,11 +1166,8 @@ static int safexcel_request_ring_irq(void *pdev, i=
nt irqid,
>                 dev =3D &plf_pdev->dev;
>                 irq =3D platform_get_irq_byname(plf_pdev, irq_name);
> =20
> -               if (irq < 0) {
> -                       dev_err(dev, "unable to get IRQ '%s' (err %d)\n",
> -                               irq_name, irq);
> +               if (irq < 0)
>                         return irq;
> -               }
>         } else {
>                 return -ENXIO;
>         }
> --=20
> 2.7.4
>=20
